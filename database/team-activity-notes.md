# Team Activity - Week 02
## Database Creation and Practice

**Team Members:** Sam Daramroei and Brother Buhler (Instructor)  
**Date:** January 26, 2026

---

## Step 3: Review the Learning Activities

### Discussion Question:
**What was the hardest part of the learning activity?**

**Answer:** Understanding the relationship between tables and how the foreign key constraint works to maintain data integrity. Also, learning the proper order for creating database objects (type first, then tables, then relationships) was important to avoid errors.

---

## Step 4: Create a Database Type

✅ **Completed:** Created the `account_type` ENUM with values: 'Client', 'Employee', 'Admin'

### Discussion Questions:

**1. Why would you want to use an enum (Enumeration type) in a database instead of simply using a VarChar (similar to a string) data type?**

**Answer:** 
- **Data Integrity:** ENUMs restrict values to a predefined set, preventing invalid data entry
- **Performance:** ENUMs are stored more efficiently than strings
- **Consistency:** Ensures all records use the exact same values (e.g., 'Admin' vs 'admin' vs 'ADMIN')
- **Database-level validation:** The database itself enforces valid values, not just application code
- **Self-documenting:** The ENUM definition shows exactly what values are allowed

**2. Why should you copy the SQL pgAdmin generates and save it to a file?**

**Answer:**
- **Database Rebuild:** If the database is deleted or needs to be recreated, you can run the entire file to rebuild it
- **Version Control:** Keep track of database schema changes over time
- **Deployment:** Easily deploy the same database structure to different environments (development, testing, production)
- **Documentation:** Serves as documentation of your database structure
- **Backup:** Provides a backup of your database schema
- **Team Collaboration:** Other developers can set up the same database structure

---

## Step 5: Create the Tables

✅ **Completed:** Created three tables:
1. `classification` - Stores vehicle classification types
2. `inventory` - Stores vehicle inventory data
3. `account` - Stores user account information

✅ **Created Relationship:** Foreign key constraint between `classification` and `inventory` tables

### Discussion Questions:

**1. What is the purpose of the line foreign key constraint in the Classification and Inventory relationship?**

**Answer:**
The foreign key constraint (`fk_classification`) serves several purposes:
- **Referential Integrity:** Ensures that every `classification_id` in the inventory table must exist in the classification table
- **Prevents Orphaned Records:** You cannot delete a classification that has inventory items using it (ON DELETE NO ACTION)
- **Cascade Updates:** If a classification_id changes, it automatically updates in the inventory table (ON UPDATE CASCADE)
- **Data Consistency:** Maintains the relationship between classifications and inventory items
- **Enforces Business Rules:** Ensures that inventory items are always associated with a valid classification

**2. What client type will be assigned to a new client entry if one is not specified?**

**Answer:**
'Client' will be assigned as the default value. This is defined in the account table creation with:
```sql
account_type account_type NOT NULL DEFAULT 'Client'::account_type
```
This means any new account created without specifying an account_type will automatically be set to 'Client'.

---

## Step 6: Add the Data

✅ **Completed:** Added data to:
1. `classification` table - 5 classifications (Custom, Sport, SUV, Truck, Sedan)
2. `inventory` table - 15 vehicle records

### Discussion Questions:

**1. Why do you not provide the classification_id when inserting new data into the classification table?**

**Answer:**
The `classification_id` field is defined as:
```sql
classification_id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY
```
This means:
- **Auto-increment:** The database automatically generates sequential values (1, 2, 3, etc.)
- **Primary Key:** It serves as the unique identifier for each classification
- **No Manual Entry Needed:** We don't need to track or assign IDs manually
- **Prevents Duplicates:** Ensures each classification has a unique ID
- **Simplifies Inserts:** We only need to provide the classification_name

**2. Should you commit the inventory-data file to your GitHub repository? Why or why not?**

**Answer:**
**YES**, you should commit the inventory-data file to GitHub because:
- **It's Sample/Seed Data:** This is test/demo data, not real sensitive production data
- **Project Requirement:** It's part of the assignment and needed to complete the project
- **Team Collaboration:** Other developers need this data to set up their local environment
- **Reproducible Setup:** Anyone cloning the repository can rebuild the complete database
- **No Sensitive Information:** The data contains fictional vehicles and no personal information

**However**, you should NOT commit files containing:
- Real customer data
- Production database credentials
- Connection strings with passwords
- Any sensitive or proprietary information

---

## Summary of Completed Work

1. ✅ Created `account_type` ENUM
2. ✅ Created `classification` table
3. ✅ Created `inventory` table with foreign key relationship
4. ✅ Created `account` table
5. ✅ Inserted classification data (5 records)
6. ✅ Inserted inventory data (15 vehicles)
7. ✅ All SQL code saved to `assignment2.sql` in proper order
8. ✅ Ready for database deployment and testing

---

## Next Steps

- Complete the team activity quiz on Canvas
- Proceed to Week 02 Project: Complete your Database
- Test all SQL queries in pgAdmin or your database tool
- Verify all relationships and constraints are working correctly
